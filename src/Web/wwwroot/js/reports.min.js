import Vue from"vue";import VisitorChart from"./components/VisitorChart.vue";new Vue({el:"#chartContainer",components:{VisitorChart},data:{visitorData:null},methods:{fetchVisitorData(n,t){fetch("/reports/getweeklyvisitors?startDate="+n.toISOString()+"&endDate="+t.toISOString()).then(n=>n.json()).then(n=>{this.visitorData={labels:["Lun","Mar","Mer","Gio","Ven","Sab","Dom"],datasets:[{label:"Numero di visitatori",backgroundColor:"#f87979",data:n},]}})}},mounted(){var n=document.getElementById("weekPicker");n.addEventListener("change",function(){var t=this.value.split("-"),r=t[0],u=t[1].substring(1),i=new Date(r,0,1+(u-1)*7),n=new Date(i);n.setDate(n.getDate()+6);this.fetchVisitorData(i,n)}.bind(this))}});